flowchart LR
    subgraph Inputs
        scenario[Scenario Input]
        traces[Workload Trace]
    end

    subgraph Driver["Simulator Driver"]
        registry[Device Registry]
        cold[Cold-Start Manager]
        lut[LUT Manager]
        network[Network Model]
        kv[KV Manager]
        event["Event Engine (DES)"]
        queue[Queueing Model]
        accept[Acceptance Estimator]
        scheduler[Schedulers]
        planner[Planner]
        mode[Mode Selector]
        repro[Reproducibility Log]
    end

    subgraph Outputs["Metrics & Artifacts"]
        metrics[Metrics Reporter]
        reports[Run Reports / Logs]
    end

    scenario --> registry
    scenario --> cold
    scenario --> lut
    scenario --> network
    scenario --> scheduler
    scenario --> planner
    traces --> event

    registry --> cold
    cold --> lut
    lut --> event
    network --> event
    event --> kv
    kv --> queue
    queue --> scheduler
    accept --> scheduler
    accept --> event
    accept --> metrics
    scheduler --> mode
    planner --> scheduler
    planner --> mode
    mode --> event
    scheduler --> repro
    scheduler --> metrics
    event --> metrics
    metrics --> reports
    repro --> reports
